<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  <title>ระบบจัดเก็บประวัติการซื้อสลากกินแบ่งรัฐบาล</title>
</head>

<body style="background-color:#F7F9F9">
  <nav class="navbar fixed-top navbar-expand-md navbar-dark " style="background-color: #5D6D7E ;color: white; text-align: center;">
    <div class="d-flex w-50 order-0">
      <a class="navbar-brand">
        <img src="{{ url_for('static', filename='Brand/Meow.jpg') }}" width="90" height="90"
          style="vertical-align: middle;border-radius: 50%; margin-right: 15px;" />
        <label style="font-size: larger;font-size: 40px;">ระบบจัดเก็บประวัติการซื้อสลากกินแบ่งรัฐบาล</label>
      </a>
    </div>
  </nav>
  <ul class="navbar-nav" style="text-align: center;">
    <br />
    <a class="button" href="http://localhost:8080/blocks" style="margin: 20px; font-size: 20px;">Blocks</a>
    <a class="button" href="http://localhost:8080/addnewblock" style="margin: 20px; font-size: 20px;">Add new block</a>
  </ul>
  <br />
  <div style="margin-left: 70px;margin-right: 40px; margin-bottom: 100px;">
    <table class="table table-striped">
      <thead>
        <tr>
          <th scope="col">index</th>
          <th scope="col">hash</th>
          <th scope="col">timestamp</th>
          <th scope="col">data</th>
          <th scope="col">previous_hash</th>
        </tr>
      </thead>
      <tbody>
        {% for block in blocks %}
        <tr>
          <th scope="row">{{ block.index }}</th>
          <td>{{ block.hash }}</td>
          <td>{{ block.timestamp }}</td>
          {% if block.data=='Genesis block' %}
          <td>{{ block.data }}</td>
          {% else %}
          <td>
            {% for dataId in block.data %}
            <span>
              {{ dataId.from_address }} &nbsp; by
            </span>
            <span>
              {{ dataId.whom }} &nbsp;
            </span>
            <span>
              {{ dataId.lotto_number }} &nbsp;
            </span>
            <span>
              {{ dataId.duedate }} &nbsp;
            </span>

            <br />
            {% endfor %}
          </td>
          {% endif %}
          <td>{{ block.previous_hash }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</body>

<style>
  table{
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
  }
  td, th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
  }
  
  tr:nth-child(even) {
    background-color: #dddddd;
  }

  .button {
    background-color: #34495E;
    border: none;
    color: white;
    padding: 15px 25px;
    text-align: center;
    font-size: 16px;
    cursor: pointer;
  }
</style>

</html>